module.exports=function(t){function e(s){if(i[s])return i[s].exports;var o=i[s]={exports:{},id:s,loaded:!1};return t[s].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){function s(t,e){return this instanceof s?("function"==typeof t&&(e=t,t=null),t&&(h("Token defined: %sâ€¦",t.substring(0,6)),this.token=t),e?this.request=e:(h("No request handler. Adding default XHR request handler"),this.request=function(e,i){return e=e||{},t&&(e.authToken=t),o(e,i)}),this.req=new c(this),void(this.apiVersion="1.1")):new s(t,e)}var o=i(19),r=i(9),n=i(13),p=i(15),u=i(4),c=i(16),d=i(3),h=i(1)("wpcom"),a=3e4;s.prototype.me=function(){return new r(this)},s.prototype.site=function(t){return new n(t,this)},s.prototype.users=function(){return new p(this)},s.prototype.batch=function(){return new u(this)},s.prototype.freshlyPressed=function(t,e){return this.req.get("/freshly-pressed",t,e)},s.prototype.sendRequest=function(t,e,i,s){var o="WARN! Don use `sendRequest() anymore. Use `this.req` method.";return console&&console.warn?console.warn(o):console.log(o),d.call(this,t,e,i,s)},s.prototype.Promise=function(t){for(var e=arguments.length,i=Array(e>1?e-1:0),s=1;e>s;s++)i[s-1]=arguments[s];return new Promise(function(e,s){t.apply(t,[].concat(i,[function(t,i){t?s(t):e(i)}]))})},Promise.prototype.timeout||(Promise.prototype.timeout=function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?a:arguments[0],i=void 0,s=void 0,o=void 0;return o=new Promise(function(t,i){s=setTimeout(function(){i(new Error("Action timed out while waiting for response."))},e)}),i=function(){return clearTimeout(s),t},Promise.race([this.then(i)["catch"](i),o])}),t.exports=s},function(t,e){t.exports=require("debug")},function(t,e,i){function s(t,e,i,o){if(!i)throw new Error("`site id` is not correctly defined");return this instanceof s?(this.wpcom=o,this._cid=t,this._pid=e,void(this._sid=i)):new s(t,e,i,o)}var o=i(6);i(1)("wpcom:comment");s.prototype.get=function(t,e){var i="/sites/"+this._sid+"/comments/"+this._cid;return this.wpcom.req.get(i,t,e)},s.prototype.replies=function(t,e){var i="/sites/"+this._sid+"/posts/"+this._pid+"/replies/";return this.wpcom.req.get(i,t,e)},s.prototype.add=function(t,e,i){void 0===i&&(void 0===e?(e=t,t={}):"function"==typeof e&&(i=e,e=t,t={})),e="string"==typeof e?{content:e}:e;var s="/sites/"+this._sid+"/posts/"+this._pid+"/replies/new";return this.wpcom.req.post(s,t,e,i)},s.prototype.update=function(t,e,i){"function"==typeof e&&(i=e,e=t,t={}),e="string"==typeof e?{content:e}:e;var s="/sites/"+this._sid+"/comments/"+this._cid;return this.wpcom.req.put(s,t,e,i)},s.prototype.reply=function(t,e,i){"function"==typeof e&&(i=e,e=t,t={}),e="string"==typeof e?{content:e}:e;var s="/sites/"+this._sid+"/comments/"+this._cid+"/replies/new";return this.wpcom.req.post(s,t,e,i)},s.prototype.del=s.prototype["delete"]=function(t,e){var i="/sites/"+this._sid+"/comments/"+this._cid+"/delete";return this.wpcom.req.del(i,t,e)},s.prototype.like=function(){return o(this._cid,this._sid,this.wpcom)},s.prototype.likesList=function(t,e){var i="/sites/"+this._sid+"/comments/"+this._cid+"/likes";return this.wpcom.req.get(i,t,e)},t.exports=s},function(t,e,i){var s=i(18),o=i(1)("wpcom:send-request"),r=i(1)("wpcom:send-request:res");t.exports=function(t,e,i,n){var p=this;return t="string"==typeof t?{path:t}:t,o("sendRequest(%o)",t.path),t.method=(t.method||"get").toUpperCase(),"function"==typeof e&&(n=e,e={}),"function"==typeof i&&(n=i,i=null),e=e||{},e.apiVersion?(t.apiVersion=e.apiVersion,o("apiVersion: %o",t.apiVersion),delete e.apiVersion):t.apiVersion=this.apiVersion,e.proxyOrigin&&(t.proxyOrigin=e.proxyOrigin,o("proxyOrigin: %o",t.proxyOrigin),delete e.proxyOrigin),e=s.stringify(e,{arrayFormat:"brackets"}),t.query=e,i&&(t.body=i),o("params: %o",t),"function"==typeof n?this.request(t,function(t,e){r(e),n(t,e)}):new Promise(function(e,i){p.request(t,function(t,s){r(s),t?i(t):e(s)})})}},function(t,e,i){function s(t){return this instanceof s?(this.wpcom=t,void(this.urls=[])):new s(t)}i(1)("wpcom:batch");s.prototype.add=function(t){return this.urls.push(t),this},s.prototype.run=function(t,e){return void 0===t&&(t={}),"function"==typeof t&&(e=t,t={}),t.urls=this.urls,this.wpcom.req.get("/batch",t,e)},t.exports=s},function(t,e,i){function s(t,e,i){if(!e)throw new Error("`site id` is not correctly defined");return this instanceof s?(this.wpcom=i,this._sid=e,void(this._slug=t)):new s(t,e,i)}i(1)("wpcom:category");s.prototype.slug=function(t){this._slug=t},s.prototype.get=function(t,e){var i="/sites/"+this._sid+"/categories/slug:"+this._slug;return this.wpcom.req.get(i,t,e)},s.prototype.add=function(t,e,i){var s="/sites/"+this._sid+"/categories/new";return this.wpcom.req.post(s,t,e,i)},s.prototype.update=function(t,e,i){var s="/sites/"+this._sid+"/categories/slug:"+this._slug;return this.wpcom.req.put(s,t,e,i)},s.prototype["delete"]=s.prototype.del=function(t,e){var i="/sites/"+this._sid+"/categories/slug:"+this._slug+"/delete";return this.wpcom.req.del(i,t,e)},t.exports=s},function(t,e,i){function s(t,e,i){if(!e)throw new Error("`site id` is not correctly defined");if(!t)throw new Error("`comment id` is not correctly defined");return this instanceof s?(this.wpcom=i,this._cid=t,void(this._sid=e)):new s(t,e,i)}i(1)("wpcom:commentlike");s.prototype.mine=s.prototype.state=function(t,e){var i="/sites/"+this._sid+"/comments/"+this._cid+"/likes/mine";return this.wpcom.req.get(i,t,e)},s.prototype.add=function(t,e){var i="/sites/"+this._sid+"/comments/"+this._cid+"/likes/new";return this.wpcom.req.post(i,t,e)},s.prototype.del=s.prototype["delete"]=function(t,e){var i="/sites/"+this._sid+"/comments/"+this._cid+"/likes/mine/delete";return this.wpcom.req.del(i,t,e)},t.exports=s},function(t,e,i){function s(t,e){if(!t)throw new Error("`site id` is not correctly defined");return this instanceof s?(this.wpcom=e,void(this._sid=t)):new s(t,e)}i(1)("wpcom:follow");s.prototype.mine=s.prototype.state=function(t,e){var i="/sites/"+this._sid+"/follows/mine";return this.wpcom.req.get(i,t,e)},s.prototype.follow=s.prototype.add=function(t,e){var i="/sites/"+this._sid+"/follows/new";return this.wpcom.req.put(i,t,null,e)},s.prototype.unfollow=s.prototype.del=function(t,e){var i="/sites/"+this._sid+"/follows/mine/delete";return this.wpcom.req.del(i,t,null,e)},t.exports=s},function(t,e,i){function s(t,e,i){if(!e)throw new Error("`site id` is not correctly defined");if(!t)throw new Error("`post id` is not correctly defined");return this instanceof s?(this.wpcom=i,this._pid=t,void(this._sid=e)):new s(t,e,i)}i(1)("wpcom:like");s.prototype.mine=s.prototype.state=function(t,e){var i="/sites/"+this._sid+"/posts/"+this._pid+"/likes/mine";return this.wpcom.req.get(i,t,e)},s.prototype.add=function(t,e){var i="/sites/"+this._sid+"/posts/"+this._pid+"/likes/new";return this.wpcom.req.put(i,t,null,e)},s.prototype.del=s.prototype["delete"]=function(t,e){var i="/sites/"+this._sid+"/posts/"+this._pid+"/likes/mine/delete";return this.wpcom.req.del(i,t,e)},t.exports=s},function(t,e,i){function s(t){return this instanceof s?void(this.wpcom=t):new s(t)}i(1)("wpcom:me");s.prototype.get=function(t,e){return this.wpcom.req.get("/me",t,e)},s.prototype.sites=function(t,e){return this.wpcom.req.get("/me/sites",t,e)},s.prototype.likes=function(t,e){return this.wpcom.req.get("/me/likes",t,e)},s.prototype.groups=function(t,e){return this.wpcom.req.get("/me/groups",t,e)},s.prototype.connections=function(t,e){return this.wpcom.req.get("/me/connections",t,e)},t.exports=s},function(t,e,i){function s(t,e,i){return this instanceof s?(this.wpcom=i,this._sid=e,this._id=t,void(this._id||r("WARN: media `id` is not defined"))):new s(t,e,i)}var o=i(17),r=i(1)("wpcom:media");s.prototype.get=function(t,e){var i="/sites/"+this._sid+"/media/"+this._id;return this.wpcom.req.get(i,t,e)},s.prototype.update=function(t,e,i){var s="/sites/"+this._sid+"/media/"+this._id;return this.wpcom.req.put(s,t,e,i)},s.prototype.addFiles=function(t,e,i){void 0===i&&(void 0===e?(e=t,t={}):"function"==typeof e&&(i=e,e=t,t={}));var s={path:"/sites/"+this._sid+"/media/new",formData:[]};e=Array.isArray(e)?e:[e];var n,p,u,c,d,h;for(n=0;n<e.length;n++){if(p=e[n],p="string"==typeof p?o.createReadStream(p):p,u=!!p._readableState,c="undefined"!=typeof File&&p instanceof File,r("is stream: %s",u),r("is file: %s",c),!c&&!u){for(d in p)r("add %o => %o",d,p[d]),"file"!==d&&(h="attrs["+n+"]["+d+"]",s.formData.push([h,p[d]]));p=p.file,p="string"==typeof p?o.createReadStream(p):p}s.formData.push(["media[]",p])}return this.wpcom.req.post(s,t,null,i)},s.prototype.addUrls=function(t,e,i){void 0===i&&(void 0===e?(e=t,t={}):"function"==typeof e&&(i=e,e=t,t={}));var s,o,r,n,p="/sites/"+this._sid+"/media/new",u={media_urls:[]};for(e=Array.isArray(e)?e:[e],s=0;s<e.length;s++){if(o=e[s],"string"==typeof o)r=o;else{u.attrs||(u.attrs=[]),u.attrs[s]={};for(n in o)"url"!==n&&(u.attrs[s][n]=o[n]);r=o[n]}u.media_urls.push(r)}return this.wpcom.req.post(p,t,u,i)},s.prototype["delete"]=s.prototype.del=function(t,e){var i="/sites/"+this._sid+"/media/"+this._id+"/delete";return this.wpcom.req.del(i,t,e)},t.exports=s},function(t,e,i){function s(t,e,i){return this instanceof s?(this.wpcom=i,this._sid=e,t=t||{},void("object"!=typeof t?this._id=t:(this._id=t.id,this._slug=t.slug))):new s(t,e,i)}var o=i(8),r=i(12),n=i(2),p=i(1)("wpcom:post");s.prototype.id=function(t){this._id=t},s.prototype.slug=function(t){this._slug=t},s.prototype.get=function(t,e){if(!this._id&&this._slug)return this.getBySlug(t,e);var i="/sites/"+this._sid+"/posts/"+this._id;return this.wpcom.req.get(i,t,e)},s.prototype.getBySlug=function(t,e){var i="/sites/"+this._sid+"/posts/slug:"+this._slug;return this.wpcom.req.get(i,t,e)},s.prototype.add=function(t,e,i){var s=this;void 0===i&&(void 0===e?(e=t,t={}):"function"==typeof e&&(i=e,e=t,t={}));var o="/sites/"+this._sid+"/posts/new";return this.wpcom.req.post(o,t,e).then(function(t){return s._id=t.ID,p("Set post _id: %s",s._id),s._slug=t.slug,p("Set post _slug: %s",s._slug),"function"!=typeof i?Promise.resolve(t):void i(null,t)})["catch"](function(t){return"function"!=typeof i?Promise.reject(error):void i(t)})},s.prototype.update=function(t,e,i){var s="/sites/"+this._sid+"/posts/"+this._id;return this.wpcom.req.put(s,t,e,i)},s.prototype.del=s.prototype["delete"]=function(t,e){var i="/sites/"+this._sid+"/posts/"+this._id+"/delete";return this.wpcom.req.del(i,t,e)},s.prototype.restore=function(t,e){var i="/sites/"+this._sid+"/posts/"+this._id+"/restore";return this.wpcom.req.put(i,t,null,e)},s.prototype.likesList=function(t,e){var i="/sites/"+this._sid+"/posts/"+this._id+"/likes";return this.wpcom.req.get(i,t,e)},s.prototype.related=function(t,e){var i="/sites/"+this._sid+"/posts/"+this._id+"/related";return this.wpcom.req.put(i,t,null,e)},s.prototype.like=function(){return new o(this._id,this._sid,this.wpcom)},s.prototype.reblog=function(){return new r(this._id,this._sid,this.wpcom)},s.prototype.comment=function(t){return new n(t,this._id,this._sid,this.wpcom)},s.prototype.comments=function(t,e){var i=new n(null,this._id,this._sid,this.wpcom);return i.replies(t,e)},t.exports=s},function(t,e,i){function s(t,e,i){if(!e)throw new Error("`site id` is not correctly defined");if(!t)throw new Error("`post id` is not correctly defined");return this instanceof s?(this.wpcom=i,this._pid=t,void(this._sid=e)):new s(t,e,i)}i(1)("wpcom:reblog");s.prototype.mine=s.prototype.state=function(t,e){var i="/sites/"+this._sid+"/posts/"+this._pid+"/reblogs/mine";return this.wpcom.req.get(i,t,e)},s.prototype.add=function(t,e,i){if("function"==typeof e&&(i=e,e=t,t={}),e&&!e.destination_site_id)return i(new Error("destination_site_id is not defined"));var s="/sites/"+this._sid+"/posts/"+this._pid+"/reblogs/new";return this.wpcom.req.put(s,t,e,i)},s.prototype.to=function(t,e,i){return void 0===i&&(void 0===e?e=null:"function"==typeof e&&(i=e,e=null)),this.add({note:e,destination_site_id:t},i)},t.exports=s},function(t,e,i){function s(t,e){return this instanceof s?(this.wpcom=e,h("set %o site id",t),void(this._id=encodeURIComponent(t))):new s(t,e)}function o(t){var e=function(e,i){var s="/sites/"+this._id+"/"+t;return this.wpcom.req.get(s,e,i)};return e._publicAPI=!0,e}var r=i(11),n=i(5),p=i(14),u=i(10),c=i(2),d=i(7),h=i(1)("wpcom:site"),a=["categories","comments","follows","media","posts","shortcodes","embeds",["pageTemplates","page-templates"],["stats","stats"],["statsClicks","stats/clicks"],["statsComments","stats/comments"],["statsCommentFollowers","stats/comment-followers"],["statsCountryViews","stats/country-views"],["statsFollowers","stats/followers"],["statsPublicize","stats/publicize"],["statsReferrers","stats/referrers"],["statsSearchTerms","stats/search-terms"],["statsStreak","stats/streak"],["statsSummary","stats/summary"],["statsTags","stats/tags"],["statsTopAuthors","stats/top-authors"],["statsTopPosts","stats/top-posts"],["statsVideoPlays","stats/video-plays"],["statsVisits","stats/visits"],"tags","users"];s.prototype.get=function(t,e){return this.wpcom.req.get("/sites/"+this._id,t,e)};var f,l,m,w,y;for(f=0;f<a.length;f++)l=a[f],m=Array.isArray(l),w=m?l[0]:l+"List",y=m?l[1]:l,h("adding method: %o - sub-path: %o - version: %s","site."+w+"()",y),s.prototype[w]=o(y);s.prototype.post=function(t){return new r(t,this._id,this.wpcom)},s.prototype.addPost=function(t,e){var i=new r(null,this._id,this.wpcom);return i.add(t,e)},s.prototype.deletePost=function(t,e){var i=new r(t,this._id,this.wpcom);return i["delete"](e)},s.prototype.media=function(t){return new u(t,this._id,this.wpcom)},s.prototype.addMediaFiles=function(t,e,i){var s=new u(null,this._id,this.wpcom);return s.addFiles(t,e,i)},s.prototype.addMediaUrls=function(t,e,i){var s=new u(null,this._id,this.wpcom);return s.addUrls(t,e,i)},s.prototype.deleteMedia=function(t,e){var i=new u(t,this._id,this.wpcom);return i.del(e)},s.prototype.comment=function(t){return new c(t,null,this._id,this.wpcom)},s.prototype.follow=function(){return new d(this._id,this.wpcom)},s.prototype.cat=s.prototype.category=function(t){return new n(t,this._id,this.wpcom)},s.prototype.tag=function(t){return new p(t,this._id,this.wpcom)},s.prototype.renderShortcode=function(t,e,i){if("string"!=typeof t)throw new TypeError("expected a url String");"function"==typeof e&&(i=e,e={}),e=e||{},e.shortcode=t;var s="/sites/"+this._id+"/shortcodes/render";return this.wpcom.req.get(s,e,i)},s.prototype.renderEmbed=function(t,e,i){if("string"!=typeof t)throw new TypeError("expected an embed String");"function"==typeof e&&(i=e,e={}),e=e||{},e.embed_url=t;var s="/sites/"+this._id+"/embeds/render";return this.wpcom.req.get(s,e,i)},s.prototype.statsReferrersSpamNew=function(t,e){var i="/sites/"+this._id+"/stats/referrers/spam/new",s={domain:t};return this.wpcom.req.post(i,s,null,e)},s.prototype.statsReferrersSpamDelete=function(t,e){var i="/sites/"+this._id+"/stats/referrers/spam/delete",s={domain:t};return this.wpcom.req.post(i,s,null,e)},s.prototype.statsVideo=function(t,e,i){var s="/sites/"+this._id+"/stats/video/"+t;return"function"==typeof e&&(i=e,e={}),this.wpcom.req.get(s,e,i)},s.prototype.statsPostViews=function(t,e,i){var s="/sites/"+this._id+"/stats/post/"+t;return"function"==typeof e&&(i=e,e={}),this.wpcom.req.get(s,e,i)},t.exports=s},function(t,e,i){function s(t,e,i){if(!e)throw new Error("`site id` is not correctly defined");return this instanceof s?(this.wpcom=i,this._sid=e,void(this._slug=t)):new s(t,e,i)}i(1)("wpcom:tag");s.prototype.slug=function(t){this._slug=t},s.prototype.get=function(t,e){var i="/sites/"+this._sid+"/tags/slug:"+this._slug;return this.wpcom.req.get(i,t,e)},s.prototype.add=function(t,e,i){var s="/sites/"+this._sid+"/tags/new";return this.wpcom.req.post(s,t,e,i)},s.prototype.update=function(t,e,i){var s="/sites/"+this._sid+"/tags/slug:"+this._slug;return this.wpcom.req.put(s,t,e,i)},s.prototype["delete"]=s.prototype.del=function(t,e){var i="/sites/"+this._sid+"/tags/slug:"+this._slug+"/delete";return this.wpcom.req.del(i,t,e)},t.exports=s},function(t,e,i){function s(t){return this instanceof s?void(this.wpcom=t):new s(t)}i(1)("wpcom:users");s.prototype.suggest=function(t,e){return this.wpcom.req.get("/users/suggest",t,e)},t.exports=s},function(t,e,i){function s(t){this.wpcom=t}var o=i(3);i(1)("wpcom:request");s.prototype.get=function(t,e,i){return"function"==typeof e&&(i=e,e={}),o.call(this.wpcom,t,e,null,i)},s.prototype.post=s.prototype.put=function(t,e,i,s){return void 0===s&&(void 0===i?(i=e,e={}):"function"==typeof i&&(s=i,i=e,e={})),t="string"==typeof t?{path:t}:t,t.method="post",o.call(this.wpcom,t,e,i,s)},s.prototype.del=function(t,e,i){return"function"==typeof e&&(i=e,e={}),this.post(t,e,null,i)},t.exports=s},function(t,e){t.exports=require("fs")},function(t,e){t.exports=require("qs")},function(t,e){t.exports=require("wpcom-xhr-request")}]);
//# sourceMappingURL=index.min.js.map